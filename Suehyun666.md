# 1주차 보고서

## 미션 구현 과정에서 학습한 내용

- **객체 지향 설계의 중요성**: 로또 게임을 구현하면서 각 클래스가 명확한 책임을 가지도록 설계하는 것의 중요성을 배웠습니다. `Lotto`, `LottoTicket`, `LottoResult` 등의 클래스들이 각자의 역할을 수행하도록 설계했습니다.

- **유효성 검증 분리**: 사용자 입력에 대한 유효성 검증(`LottoValidator`)과 도메인 객체의 불변식 검증(각 클래스 내부)을 분리하여 처리하는 방법을 학습했습니다. 이를 통해 책임 분리와 코드 재사용성을 높일 수 있었습니다.

- **예외 처리의 중요성**: 사용자 입력, 로또 번호 검증 등에서 발생할 수 있는 예외 상황을 처리하는 방법을 학습했습니다. 적절한 예외 메시지를 통해 사용자에게 정확한 피드백을 제공하는 것의 중요성을 깨달았습니다.

- **단순한 메서드의 중요성**: 가장 쉽고 단순하게 하나의 기능을 수행하는 메서드로 분리하여 가독성을 높이는 법을 학습했습니다.

## 고민했던 점

- **클래스 분리와 책임 할당**: `Lotto`와 `LottoTicket` 두 클래스의 역할 구분이 모호하다고 느꼈습니다. 단순히 위임 패턴만 적용되어 있어 불필요한 복잡성이 생기는 것이 아닌지 고민했습니다. 하나의 클래스로 통합하거나, 각 클래스의 역할을 더 명확히 구분하는 방안을 고려했습니다.

- **정적 메서드의 적절한 사용**: 유틸리티 클래스에서 정적 메서드를 얼마나 세분화해야 하는지 고민했습니다. 메서드를 너무 잘게 나누면 코드 파악이 어려울 수 있거나 정적 메서드를 너무 많이 호출하게 될 것 같았고, 너무 크게 유지하면 단일 책임 원칙을 위반할 수 있습니다.

- **유효성 검증 위치**: 입력값 검증을 어디서 수행해야 하는지 고민했습니다. 테스트를 보면 로또 클래스 내에서 검증을 하도록 만들어졌던데 저는 `MVC` 모델에 따라서 데이터를 저장하는 역할만 수행하도록 만들었습니다. 그래서 `LottoValidator`처럼 별도의 검증 클래스를 두는 방식과 도메인 객체 내부에서 검증하는 방식 중 어느 것이 더 적합한지, 혹은 두 방식을 함께 사용해야 하는지 고민했습니다.

- **의존성 주입 문제**: `GameManager` 생성자에서 매개변수로 받은 객체를 사용하지 않고 새로운 인스턴스를 생성하는 문제를 발견했습니다. 이는 의존성 주입의 의미를 완전히 무시하는 코드로, 이를 수정하는 방법에 대해 고민했습니다.

## Effective Java에서 배운 내용

- **아이템 1. 생성자 대신 정적 팩토리 메서드를 고려하라**: 처음에는 모든 클래스를 단순하게 생성했었지만 메서드만 있는 유틸리티 클래스의 constructor에 대해 고민하고 있었습니다. 이 부분을 읽고 나서 의미도 명확히 전달할 수 있는 정적 팩터리 메서드(`LottoTicket.createRandom()`, `LottoTicket.fromNumbers()` 등)를 활용할 수 있음을 배웠습니다.

- **아이템 4. 인스턴스화를 막으려거든 private 생성자를 사용하라**: 유틸리티 클래스인 `LottoValidator`, `TicketValidator` 등은 인스턴스화가 필요 없으므로, private 생성자를 추가하여 혹시 모를 인스턴스화를 방지해야 함을 배웠습니다.

- **아이템 5. 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라**: `GameManager` 생성자에서 매개변수로 받은 객체를 활용하지 않고 새 인스턴스를 생성했습니다. 하지만 이후 `input`이나 `output`이 GUI를 사용하는 등 변경이 생겼을 때나 방대한 코드 내에서 유닛 단위로 테스트할 때 유지보수가 좋지 못하다는 것을 알았습니다. 이를 공부하며 왜 의존성을 주입해야하는지 배웠습니다.

- **아이템 6. 불필요한 객체 생성을 피하라**: 불변 객체나 재사용 가능한 객체의 경우 매번 새로 생성하기보다 재사용하는 방식을 고려해야 함을 배웠습니다.

- **아이템 7. 다 쓴 객체 참조를 해제하라**: 특히 컬렉션 관리 시 필요 없는 참조를 명시적으로 해제하여 메모리 누수를 방지하는 방법을 배웠습니다. 그 동안 자바를 써왔기에 이 부분에 대한 중요성을 많이 느끼지 못한 것 같습니다.

- **아이템 9. try-finally보다는 try-with-resources를 사용하라**: 자원 관리 시 try-with-resources 구문을 사용하여 자원이 자동으로 닫히도록 하는 것이 더 안전하고 간결함을 배웠습니다.